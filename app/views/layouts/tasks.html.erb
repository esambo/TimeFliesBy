<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <title><%= h(yield(:title) || "Tasks: #{controller.action_name}") %></title>
    <%= stylesheet_link_tag 'scaffold' %>
    <%= stylesheet_link_tag 'application' %>
    <%= yield(:head) %>
</head>
<body>
    <div id="container">
        <%- flash.each do |name, msg| -%>
            <%= content_tag :div, msg, :id => "flash_#{name}" %>
        <%- end -%>

        <div id="user_login_box" style="float:right">
            <% if user_signed_in? -%>
                <%= current_user.email %> |
                <%= link_to 'My info', edit_user_path %> |
                <%= link_to 'Sign out', destroy_user_session_path %>
            <% else -%>
                <%= link_to 'Register', new_user_path %> |
                <%= link_to 'Sign in', new_user_session_path %>
            <% end -%>
        </div>
        <div style="float:left">
            <%= link_to 'Home', root_path %> |
            <%= link_to 'Tasks', tasks_path %>
        </div>
        <div style="clear:both"></div>

        <%- if show_title? -%>
            <h1><%= h yield(:title) %></h1>
        <%- end -%>

        <%= yield %>
    </div>
</body>
</html>
